<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="653.25537109375" height="336"><defs/><g><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="0"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="30"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="60"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="90"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="120"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="150"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="180"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="210"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="240"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="270"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="300"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="0" y="330"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="0"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="30"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="60"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="90"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="120"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="150"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="180"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="210"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="240"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="270"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="300"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="200" y="330"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="0"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="30"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="60"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="90"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="120"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="150"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="180"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="210"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="240"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="270"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="300"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="400" y="330"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="0"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="30"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="60"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="90"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="120"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="150"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="180"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="210"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="240"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="270"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="300"></text><text fill="#eeeeee" stroke="none" font-family="Arial" font-size="24px" font-style="normal" font-weight="normal" text-decoration="none" x="600" y="330"></text><g transform="translate(-270,-494) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="495" y="511" width="50.919921875" height="44" opacity="0.2"/></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#8fbcd3" stroke="none" x="488" y="504" width="50.919921875" height="44"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 488 504 L 538.919921875 504 L 538.919921875 548 L 488 548 L 488 504 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 488 529 L 538.919921875 529" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 488 539 L 538.919921875 539" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="495.404052734375" y="521.5">Client</text></g></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="639" y="567" width="157.49072265625" height="57" opacity="0.2"/></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#8fbcd3" stroke="none" x="632" y="560" width="157.49072265625" height="57"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 632 560 L 789.49072265625 560 L 789.49072265625 617 L 632 617 L 632 560 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 632 585 L 789.49072265625 585" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 632 595 L 789.49072265625 595" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="680.771728515625" y="577.5">Flyweight</text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="italic" font-weight="normal" text-decoration="none" x="637" y="610.5">+operation(extrinsicState)</text></g></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="327" y="567" width="118.458984375" height="57" opacity="0.2"/></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#8fbcd3" stroke="none" x="320" y="560" width="118.458984375" height="57"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 320 560 L 438.458984375 560 L 438.458984375 617 L 320 617 L 320 560 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 320 585 L 438.458984375 585" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 320 595 L 438.458984375 595" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="325.77587890625" y="577.5">FlyweightFactory</text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="325" y="610.5">+getFlyweight(key)</text></g></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="535" y="663" width="157.49072265625" height="70" opacity="0.2"/></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#8fbcd3" stroke="none" x="528" y="656" width="157.49072265625" height="70"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 528 656 L 685.49072265625 656 L 685.49072265625 726 L 528 726 L 528 656 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 528 681 L 685.49072265625 681" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 528 704 L 685.49072265625 704" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="546.068115234375" y="673.5">ConcreteFlyweighA</text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="533" y="696.5">-intrinsicState</text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="533" y="719.5">+operation(extrinsicState)</text></g></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="735" y="663" width="185.25537109375" height="70" opacity="0.2"/></g><g transform="translate(-270,-494) scale(1,1)"><rect fill="#8fbcd3" stroke="none" x="728" y="656" width="185.25537109375" height="70"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 728 656 L 913.25537109375 656 L 913.25537109375 726 L 728 726 L 728 656 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 728 681 L 913.25537109375 681" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 728 704 L 913.25537109375 704" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="732.5" y="673.5">UnsharedConcreteFlyweight</text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="733" y="696.5">-allState</text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="733" y="719.5">+operation(extrinsicState)</text></g></g><g transform="translate(-270,-494) scale(1,1)"><path fill="#8fbcd3" stroke="none" d="M 280 680 L 461 680 L 471 690 L 471 819 L 280 819 L 280 680"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 280 680 L 461 680 L 471 690 L 471 819 L 280 819 L 280 680 L 280 680" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 461 680 L 461 690 L 471 690 L 461 680" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="694">if( flyweights[key] exist) { </text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="709">    return existing flyweight;      </text><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="722">} else {                        </text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="737">     create new flyweight; </text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="752">     add it to pool of flyweights;  </text><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="756">               </text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="780">     return the new flyweight;      </text><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="784">  </text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="285" y="795">}</text></g></g><g transform="translate(-270,-494) scale(1,1)"><g><path fill="none" stroke="none"/></g></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 642 655 L 680 618" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 671.3107321701358 638.211299428312 L 680 618 L 659.5642129116056 626.1473066763082"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 671.3107321701358 638.211299428312 L 680 618 L 659.5642129116056 626.1473066763082 L 671.3107321701358 638.211299428312" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 782 655 L 742 618" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 762.6377063927592 625.6213564964687 L 742 618 L 751.2039492779638 637.9821749989502"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 762.6377063927592 625.6213564964687 L 742 618 L 751.2039492779638 637.9821749989502 L 762.6377063927592 625.6213564964687" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 631 588 L 439 588" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 449.16267485762415 583.790482243984 L 439 588 L 449.16267485762415 592.209517756016 L 461 588"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 449.16267485762415 583.790482243984 L 439 588 L 449.16267485762415 592.209517756016 L 461 588 L 449.16267485762415 583.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 513 549 L 512 688 L 527 688" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 516.8373251423759 692.209517756016 L 527 688 L 516.8373251423758 683.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 487 526 L 376 528 L 378 559" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 373.14491953483304 549.1294278951647 L 378 559 L 381.54648814939395 548.5873912103542" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 540 526 L 824 528 L 821 655" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 817.0316524463714 644.7407496524546 L 821 655 L 825.4483400253639 644.9395690440844" stroke-miterlimit="10"/></g><g transform="translate(-270,-494) scale(1,1)"><path fill="none" stroke="#000000" d="M 377 679 L 378 618" stroke-miterlimit="10" stroke-dasharray="3"/></g></g></svg>
